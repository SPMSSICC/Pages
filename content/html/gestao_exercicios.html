<!DOCTYPE html>
<html>
<head>
		<title>SICC - Manual de Utilizador</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="js/ie/html5shiv.js"></script><![endif]-->
		<!--<link rel="stylesheet" href="../../css/main.css">-->
		<link rel="stylesheet" href="../../css/style.css">
		<!--[if lte IE 8]><link rel="stylesheet" href="css/ie8.css" /><![endif]-->
</head>
<body>
	<header>
			<div id="sidebar">
					<a id="amenuLink" href="amenu-source.html">Menu</a>
			</div>
	</header>
	<div id="content">
			<article id="documento" class="modulo">
				<noscrip id="js_warning">
					<h1>Ops! :(</h1>
					<p>
						<br>Para visualizar corretamente esta página, é necessário permitir a execução de scripts no seu browser.</p>
						<br>Por favor contacte o apoio técnico.
						<br>Obrigado,
						<br>Equipa SICC.
					</p>
				</noscrip>
				<script>
					//remove script block warning
					var el = document.getElementById("js_warning");
					if(el){
						el.remove();
					}
				</script>
				<!--loaded with js-->
			</article>
			<div id="docButtons">
				<!--loaded with js-->
			</div>
			<footer>
				<!--loaded with js-->
			</footer>
	</div>
	<!--div needed to PDF generation-->
	<div id="editor" style="display:'none'"></div>
	<!-- libs -->
	<script src="../../js/jquery-3.1.1.js"></script>
	<script src="../../js/skel.min.js"></script>
	<script src="../../js/util.js"></script>
	<script src="../../js/main.js"></script>
	<script src="../../js/libs/showdown.js"></script>
	<script src="../../js/sicc-project.js"></script>
	<script src="../../js/libs/accordion-menu.js"></script>
	<script src="../../js/highslide-with-gallery.js"></script>
	<script src="../../js/jquery.zoom.js" async></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.debug.js"></script>

	<script>
		//get the current html document name
		var path = window.location.pathname;
		var page = path.split("/").pop();
		//remove .html or .htm extension(s)
		if(page.search(/.htm/i) != -1){
			docName = page.replace(/.html|htm/gi,"");
		}
		// convert .md file to html and place it into current page
		convertMdToHtml(docName,"documento");

		//highslide-with-gallery configs
		hs.graphicsDir = '../../content/img/highslide/graphics/';
		hs.fadeInOut = true;
		hs.align = 'center';
		hs.transitions = ['expand', 'crossfade'];
		hs.outlineType = 'rounded-white';//'rounded-white';'rounded-black'
		hs.fadeInOut = true;
		hs.numberPosition = 'caption';
		hs.dimmingOpacity = 0.5;
		hs.dimmingGeckoFix = true;
		hs.blockRightClick = true;

	//update btn link to edit doc in GitHub
		$(function(){
			$("footer").load("footer.html");
			$("#docButtons").load("docButtons.html");
			setTimeout(function() {
					$("#btnEditarDoc").attr("onclick","window.open('https://github.com/SPMSSICC/pages/edit/master/content/markdown/"+docName+".md','_blank')");


					 //transform HTML to PDF and Download
		 			var doc = new jsPDF();
		 			var specialElementHandlers = {
		 			    '#editor': function (element, renderer) {
		 			        return true;
		 			    }
		 			};

		 			$('#btnPDF').click(function () {
		 			    doc.fromHTML($('#content').html(), 15, 15, {
		 			        'width': 170,
		 			            'elementHandlers': specialElementHandlers
		 			    });
		 			    doc.save('SICC-'+ docName + '.pdf');
		 			});
			}, 2000);//timeout
		});

		$(window).scroll(function() {
			if ($(this).scrollTop() > 2000) {
				//add effect / animation
				$('.showWithScroll').stop(true).animate({
					 opacity: 1
				}, 500);
			} else {
				if ($(this).scrollTop() < 1000) {
					$('.showWithScroll').stop(true).animate({
						 opacity: 0
					}, 500);
				}
			}
		});
	</script>
</body>

</html>
