<!DOCTYPE html>
<html lang="pt">

	<head>
		<title>SICC - Documentação</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="theme-color" content="#29615D" />
		<meta name="mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="#29615D">
		<meta name="apple-mobile-web-app-title" content="SICC Docs">
		<link rel="manifest" href="./manifest.json">
		<link rel="icon" href="./img/icons/sicc.ico" type="image/vnd.microsoft.icon">
		<link rel="apple-touch-icon" sizes="144x144" href="./img/logos/logo_sicc_144x144.png">
		<link rel="apple-touch-icon" sizes="144x144" href="./img/logos/logo_sicc_192x192.png">
		<link rel="apple-touch-icon" sizes="144x144" href="./img/logos/logo_sicc_512x512.png">
		<!-- iPhone SPLASHSCREEN-->
		<link href="./img/screenshots/iphone_splashscreen_320x460.png" media="(device-width: 320px)" rel="apple-touch-startup-image">
		<!-- iPhone 6 startup image -->
		<link href="./img/screenshots/iphone6_splashscreen_750x1294.png" media="(device-width: 375px) and (device-height: 667px) and
									(orientation: portrait) and (-webkit-device-pixel-ratio: 2)" rel="apple-touch-startup-image">
		<!--[if lte IE 8]><script src="js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="./css/font-awesome.min.css">
		<link rel="stylesheet" href="./css/main.css">
		<!--[if lte IE 8]><link rel="stylesheet" href="css/ie8.css" /><![endif]-->
	</head>

	<body style="margin:0 0 0 0;  width:100%">
		<noscript>
			<h1>Ops! :(</h1>
			<p>
				<br>Para visualizar corretamente esta página, é necessário permitir a execução de scripts no seu browser.</p>
				<br>Por favor contacte o apoio técnico.
				<br>Obrigado,
				<br>Equipa SICC.
			</p>
		</noscript>
		<header id="header">
			<div id="docButtons">
				<button title="Ver Menu" id="btnMenu" type="button" alt="btnMenu" onclick="showMenu()" class="show"><i class="fa fa-bars fa-fw"></i></button>
				<p id="barTitle" style="cursor:pointer;" onclick="loadIndexContent(['btnMenu'])">SICC</p>
				<button title="Transferir documento" id="btnPDF" type="button" alt="btnPDF"><i class="fa fa-file-pdf-o fa-fw"></i></button>
				<button title="Sugerir alterações ao documento" id="btnEditarDoc" type="button" alt="btnEditarDoc"><i class="fa fa-pencil fa-fw"></i></button>
				<button title="Ver índice" id="btnShowToc" type="button" alt="showToc" onclick="showToc()" class="dropbtn">Índice</button>
			</div>
			<a id="amenuLink" href="./html/amenu-source.html"></a>
			<div id="tocDropdown" class="dropdown-content"></div>
		</header>
		<div id="content" style="min-height: 90vh; margin: 0 0 0 0; padding:1em 1em 1em 1em; widht: 100%; max-width:5000px;">
		</div>
		<footer id="footer">
			<div id="p_logos">
				 <a id="SICC_logo" href="http://spms.min-saude.pt/product/sicc" target="_blank" rel="noopener" title="Abrir página">
						<img id="SICC_logo_img" src="./img/logos/SICC_logo_300x148.png" alt="SICC_logo">
				 </a>
				 <a id="SPMS_logo" href="http://spms.min-saude.pt" target="_blank" rel="noopener" title="Abrir página">
						<img id="SPMS_logo_img" src="./img/logos/SPMS2016B_300x148.png" alt="SPMS_logo">
				 </a>
				 <a id="Republica_Portuguesa_logo" href="http://www.portugal.gov.pt/pt/ministerios/ms" target="_blank" rel="noopener" title="Abrir página">
						<img id="Republica_Portuguesa_logo_img" src="./img/logos/republica_portuguesa_300x148.png" alt="Republica_Portuguesa_logo">
				 </a>
				 <p>© 2017 Direitos Reservados</p>
			</div>
		</footer>
		<!-- Content -->
		<!-- libs -->
		<script src="./js/jquery-3.1.1.js"></script>
		<script src="./js/main.js"></script>
		<script src="./js/libs/accordion-menu.js"></script>
		<script type="text/javascript">
			$(function () {

				startSpinner();

				/*********************************************************************/
				/************************************TESTE***************************/
				/*Carregar documento através de parametros no URL (queryString)*****/
				/******************************************************************/

				var url = {fullURL:"", queryString:"", variables:"", doc:"", anchor:""};

				//url.fullURL = window.location.href; // Returns full URL

				url.fullURL = "https://spmssicc.github.io/pages/index.html?doc=processos&anchor=titulo";
				url.queryString = url.fullURL.split("?"); // Returns query string of URL. 2 is the limit of splits

				if (url.queryString.length < 1) {

					var Btns = ["btnMenu"]; //["btnMenu","btnPDF","btnEditarDoc","btnShowToc","tocDropdown"]

					loadIndexContent(Btns);

				}
				else{

					console.log("Tem query String! Nº de parâmetros = " + url.queryString.length);

					url.variables = url.queryString[1].split("&",2); // Returns variables passed of the query string. splits until the max of 2 variables

					url.doc = url.variables[0].substring(url.variables[0].indexOf("=") + 1, 99); // Returns doc name

					url.anchor = url.variables[1].substring(url.variables[1].indexOf("=") + 1, 99); // Returns anchor of the document

					if (url.doc.length > 1 && url.anchor.length > 1) {
						console.log("url.doc.length: " + url.doc.length);
						console.log("url.doc: " + url.doc);
						console.log("url.anchor: " + url.anchor);

						//automatizar a listagem de documentos markdown, dentro da diretoria;
						var arrDocs = ["about","mu_snc_ap","macro_tarefas","cer_migracao_sicc","help","menus","processos"];

						if($.inArray(url.doc, arrDocs) != -1 ){
							console.log("Doc existe no arrDocs!! : " + url.doc);
							loadMdDoc(url.doc, ['btnMenu','btnEditarDoc','btnShowToc','tocDropdown'])

							//colocar/scroll o documento na anchor
						}

						//chamar loadIframe se for um PDF ou pptx

						//chamar loadICommitHistory se for um PDF ou pptx

					}

				}/*close else*/





				/************************/



				stopSpinner();

			});

		</script>
		<script src="./sw.js" async></script>
		<script>
			if ('serviceWorker' in navigator) {
				navigator.serviceWorker.register('./sw.js', {
						scope: './'
					})
					.then(function (registration) {
						// console.log("[ServiceWorker] Registered");
					});

				navigator.serviceWorker.ready.then(function (registration) {
					//console.log('[ServiceWorker] Ready');
				});
			}

		</script>
		<script src="./js/libs/showdown.js" async></script>
		<script src="./js/highslide-with-gallery.js" async></script>
		<script src="./js/jquery.zoom.js" async></script>
		<script src="./js/jquery-ui.js" async></script>
		<script src="./js/jquery.timeago.js" async></script>
	</body>

</html>
